{% extends "base.html" %}
{% block content %}
<div class="card">
  <h2>Monthly Reports</h2>
  <form method="post" class="grid-form">
    <div>
      <label>Truck</label>
      <select name="truck_id">
        <option value="all">All Trucks</option>
        {% for t in trucks %}
        <option value="{{t.id}}">{{t.name}}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label>Month</label>
      <input type="number" name="month" min="1" max="12" required>
    </div>
    <div>
      <label>Year</label>
      <input type="number" name="year" min="2022" max="2100" required>
    </div>
    <div class="full">
      <button class="btn-primary" type="submit">Generate PDF</button>
    </div>
  </form>

  {% if pdf_path %}
  <div class="pdf-download">
    <a class="btn-primary" href="{{ url_for('download_report', fname=pdf_path.split('/')[-1]) }}">Download Report</a>
  </div>
  {% endif %}
</div>
{% endblock %}
