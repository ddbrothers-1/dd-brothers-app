{% extends "base.html" %}
{% block content %}
<div class="card">
  <h2>Summary</h2>
  <div class="summary-grid">
    <div><strong>Total Income:</strong> ${{ '%.2f'|format(income) }}</div>
    <div><strong>Total Expense:</strong> ${{ '%.2f'|format(expense) }}</div>
    <div><strong>Profit / Loss:</strong>
      <span class="{% if profit>=0 %}profit{% else %}loss{% endif %}">
        ${{ '%.2f'|format(profit) }}
      </span>
    </div>
  </div>
</div>

<div class="card">
  <h2>Latest Entries</h2>
  <table class="table">
    <thead>
      <tr>
        <th>Date</th><th>Type</th><th>Category</th><th>Truck</th><th>Driver</th><th>Description</th><th>Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for e in recent %}
      <tr>
        <td>{{e.entry_date}}</td>
        <td>{% if e.is_income==1 %}Income{% else %}Expense{% endif %}</td>
        <td>{{e.category}}</td>
        <td>{{e.truck_name}}</td>
        <td>{{e.driver_name}}</td>
        <td>{{e.description}}</td>
        <td>${{ '%.2f'|format(e.amount) }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
