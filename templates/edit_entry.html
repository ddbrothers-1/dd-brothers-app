
{% extends "base.html" %}
{% block content %}
<div class="card">
  <h1>Edit Entry</h1>
  <form method="post">
    <div class="grid-3">
      <div>
        <label>Date</label>
        <div style="display:flex; gap:8px; align-items:center;">
          <input type="date" name="entry_date" id="entry_date" value="{{ entry.entry_date }}" required onclick="if(this.showPicker){this.showPicker()}" onfocus="if(this.showPicker){this.showPicker()}">
          <button type="button" class="btn secondary" onclick="openDatePicker('entry_date')">ðŸ“…</button>
        </div>
      </div>
      <div>
        <label>Is Income?</label>
        <select name="is_income" id="is_income">
          <option value="1" {% if entry.is_income==1 %}selected{% endif %}>Income</option>
          <option value="0" {% if entry.is_income==0 %}selected{% endif %}>Expense</option>
        </select>
      </div>
      <div>
        <label>Category</label>
        <input name="category" value="{{ entry.category }}" required>
      </div>
    </div>
    <div class="grid-3" style="margin-top:10px;">
      <div>
        <label>Amount ($)</label>
        <input type="number" step="0.01" name="amount" value="{{ entry.amount }}" required>
      </div>
      <div>
        <label>HST Included (1 yes / 0 no)</label>
        <select name="hst_included">
          <option value="1" {% if entry.hst_included==1 %}selected{% endif %}>1</option>
          <option value="0" {% if entry.hst_included==0 %}selected{% endif %}>0</option>
        </select>
      </div>
      <div>
        <label>Truck</label>
        <select name="truck_id" required>
          <option value="">â€”</option>
          {% for t in trucks %}<option value="{{ t.id }}" {% if entry.truck_id==t.id %}selected{% endif %}>{{ t.name }}</option>{% endfor %}
        </select>
      </div>
    </div>
    <div class="grid-3" style="margin-top:10px;">
      <div>
        <label>Driver</label>
        <select name="driver_id" required>
          <option value="">â€”</option>
          {% for d in drivers %}<option value="{{ d.id }}" {% if entry.driver_id==d.id %}selected{% endif %}>{{ d.name }}</option>{% endfor %}
        </select>
      </div>
      <div class="col" style="grid-column: span 2;">
        <label>Description</label>
        <input type="text" name="description" value="{{ entry.description }}" required>
      </div>
    </div>
    <div style="margin-top:12px;">
      <button class="btn">Save Changes</button>
      <a class="btn secondary" href="{{ url_for('expense_income') }}">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
